CREATE TABLE USER
(
    USER_ID VARCHAR2(10) PRIMARY KEY,
    PASSWORD VARCHAR2(10) NOT NULL,
    NAME VARCHAR2(5) NOT NULL,
    IMAGE_ID VARCHAR2(100),
    REGION VARCHAR2(100) NOT NULL
);
CREATE TABLE GROUP_CATEGORY
(
    GROUP_CATEGORY_ID NUMBER PRIMARY KEY,
    NAME VARCHAR2(10) NOT NULL UNIQUE
);
DROP SEQUENCE GROUP_CATEGORY_SEQ;
CREATE SEQUENCE GROUP_CATEGORY_SEQ;
CREATE TABLE GROUP
(
    GROUP_ID NUMBER PRIMARY KEY,
    GROUP_CATEGORY_ID NUMBER NOT NULL,
    REGION VARCHAR2(100) NOT NULL,
    LEADER VARCHAR2(10) NOT NULL,
    NAME VARCHAR2(100) NOT NULL,
    CONTENT VARCHAR2(500) NOT NULL,
    GROUP_LOGO VARCHAR2(100) UNIQUE,
    GROUP_IMAGE VARCHAR2(100) UNIQUE,
    CONSTRAINT GROUP_LEADER_FK FOREIGN KEY(LEADER) REFERENCES USER(USER_ID),
    CONSTRAINT GROUP_GROUP_CATEGORY_ID_FK FOREIGN KEY(GROUP_CATEGORY_ID) REFERENCES GROUP_CATEGORY(GROUP_CATEGORY_ID)
);
DROP SEQUENCE GROUP_SEQ;
CREATE SEQUENCE GROUP_SEQ;
CREATE TABLE GROUP_ATTENDANCE
(
    USER_ID VARCHAR2(10) NOT NULL,
    GROUP_ID NUMBER NOT NULL,
    CONSTRAINT GROUP_ATTENDANCE_USER_ID_FK FOREIGN KEY(USER_ID) REFERENCES USER(USER_ID),
    CONSTRAINT GROUP_ATTENDANCE_GROUP_ID_FK FOREIGN KEY(GROUP_ID) REFERENCES GROUP(GROUP_ID),
    CONSTRAINT GROUP_ATTENDANCE_PK PRIMARY KEY(USER_ID, GROUP_ID)
);

INSERT INTO USER(USER_ID, PASSWORD, NAME, REGION) VALUES('id1', 'password', 'name1', '광주');
INSERT INTO USER(USER_ID, PASSWORD, NAME, REGION) VALUES('id2', 'password', 'name2', '광주');
INSERT INTO GROUP_CATEGORY(GROUP_CATEGORY_ID, NAME) VALUES(GROUP_CATEGORY_SEQ.NEXTVAL, '영화');
INSERT INTO GROUP(GROUP_ID, GROUP_CATEGORY_ID, REGION, LEADER, NAME, CONTENT) VALUES(GROUP_SEQ.NEXTVAL, 1, '광주', 'id1', 'group1', 'group1content');
INSERT INTO GROUP(GROUP_ID, GROUP_CATEGORY_ID, REGION, LEADER, NAME, CONTENT) VALUES(GROUP_SEQ.NEXTVAL, 1, '광주', 'id2', 'group2', 'group2content');
INSERT INTO GROUP(GROUP_ID, GROUP_CATEGORY_ID, REGION, LEADER, NAME, CONTENT) VALUES(GROUP_SEQ.NEXTVAL, 1, '광주', 'id1', 'group3', 'group3content');
INSERT INTO GROUP_ATTENDANCE(USER_ID, GROUP_ID) VALUES('id1', 1);
INSERT INTO GROUP_ATTENDANCE(USER_ID, GROUP_ID) VALUES('id2', 3);
INSERT INTO GROUP_ATTENDANCE(USER_ID, GROUP_ID) VALUES('id1', 3);